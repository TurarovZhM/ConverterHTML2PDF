<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>BubbleCorrectionPressure</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.Solvers.html">Solvers</a></li>
<li><a href="MESHFREE.Solvers.Numerics.html">Numerics</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.html">LIQUID</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.html">Algorithms</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.html">BubbleAlgorithm</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.html">BubblePressure</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleImplicitPressure.html">BubbleImplicitPressure</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleImplicitPressure.BubbleCorrectionPressure.html">BubbleCorrectionPressure</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>BubbleCorrectionPressure</h1><p> bubble correction pressure by implicit requirement along the bubble surface </p>
		    	</div>
			<div class="description">
                                                                                                                                                                                                                                 
   
  By the first derivative to the <a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleTruePressure.html">BubbleTruePressure</a> formulation we have 
  <div lang="latex"><img src="965ea06191f1b58da7472c8e72dae5d4.png" alt=" \frac{dp_{b}^{{}}}{dt} V_{b}^{{}} + \kappa p_{b}^{{}} \frac{dV_{b}^{{}}}{dt}=V_{b}^{}\cdot \left \frac{dp_{b}^{}}{dt} \right|_{penalty}" class="latex" border="0"></div> 
  The right-hand-side normally would be zero, however we make the ansatz of a penalty term, that takes into account approximation errors or bubble volume dilution due to point cloud management (adding/removing points). 
  We consider the bubble in the current state as it is, and we would like to compute the correction pressure ( <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_c%25.html">%ind_c%</a> ) such that a certain desired volume change turns out, or pressure increases. 
  The time derivative of the pressure is given by 
  <div lang="latex"><img src="06b3b9b81bc5e1e28ab507899b0a905c.png" alt=" \frac{dp_{b}^{{}}}{dt} \approx \frac{p_{hyd,b}^{n+1} + p_{dyn,b}^n + c_{b}^{n+1} - p_b^n }{ \Delta t}" class="latex" border="0"></div> 
  the volume change rate of the bubble is 
  <div lang="latex"><img src="d4c29139ba059787db8d7f3a89b9269a.png" alt=" \frac{dV_{b}^{{}}}{dt}=\oint\limits_{\partial \Omega _{b}^{{}}}{\mathbf{v}_{{}}^{n+1}\cdot \mathbf{n}dA}=\oint\limits_{\partial \Omega _{b}^{{}}}{\left( \mathbf{\tilde{v}}_{{}}^{n+1}-\frac{\Delta t_{virt}^{{}}}{\rho }\nabla c_{{}}^{n+1} \right)\cdot \mathbf{n}dA}" class="latex" border="0"></div> 
  So we have 
  <div lang="latex"><img src="7c28dd53be5c16440cbeaddf0ca19cbb.png" alt=" 
    \begin{array}{*{35}{l}} 
    \frac{p_{hyd,b}^{n+1} + p_{dyn,b}^n + c_{b}^{n+1} - p_b^n}{\Delta t} V_{b}^{{}}+\kappa p_{b}^{{}}\cdot \oint\limits_{\partial \Omega _{b}^{{}}}{\left( \mathbf{\tilde{v}}_{{}}^{n+1}-\frac{\Delta t_{virt}^{{}}}{\rho }\nabla c_{{}}^{n+1} \right)\cdot \mathbf{n}dA} & =V_{b}^{{}} \left \frac{dp_{b}^{}}{dt} \right|_{penalty}  \\ 
    p_{hyd,b}^{n+1} + p_{dyn,b}^n + c_{b}^{n+1} - p_b^n + \Delta t \frac{ \kappa p_{b}^{{}}}{V_{b}^{{}}}\cdot \oint\limits_{\partial \Omega _{b}^{{}}}{\left( \mathbf{\tilde{v}}_{{}}^{n+1}-\frac{\Delta t_{virt}^{{}}}{\rho }\nabla c_{{}}^{n+1} \right)\cdot \mathbf{n}dA} & = \Delta t \left \frac{dp_{b}^{}}{dt} \right|_{penalty}  \\ 
    c_{b}^{n+1}-\Delta t \frac{ \kappa p_{b}^{{}}}{V_{b}^{{}}}\cdot \oint\limits_{\partial \Omega _{b}^{{}}}{\frac{\Delta t_{virt}^{{}}}{\rho }\nabla c_{{}}^{n+1}\cdot \mathbf{n}dA} & = p_b^n - p_{hyd,b}^{n+1} - p_{dyn,b}^n - \Delta t \frac{ \kappa p_{b}^{{}}}{V_{b}^{{}}}\cdot \oint\limits_{\partial \Omega _{b}^{{}}}{\mathbf{\tilde{v}}_{{}}^{n+1}\cdot \mathbf{n}dA} + \Delta t \left \frac{dp_{b}^{}}{dt} \right|_{penalty} \\ 
    \end{array} 
" class="latex" border="0"></div> 
  Finally, we need to replace the surface integral by their appropriate sums, thus 
  <div lang="latex"><img src="737f776b2e6c99f38f0b62850c0ea111.png" alt=" 
  \begin{matrix} 
  c_{b}^{n+1}-\Delta t \frac{ \kappa p_{b}^{{}}}{V_{b}^{{}}}\cdot \sum\limits_{i\in \partial \Omega _{b}^{{}}}{\frac{\Delta t_{virt}^{{}}}{\rho }\nabla c_{i}^{n+1}\cdot \mathbf{n}_{i}^{{}}A_{i}^{{}}} & =p_b^n - p_{hyd,b}^{n+1} - p_{dyn,b}^n - \Delta t \frac{ \kappa p_{b}^{{}}}{V_{b}^{{}}}\cdot \sum\limits_{i\in \partial \Omega _{b}^{{}}}{\mathbf{\tilde{v}}_{{}}^{n+1}\cdot \mathbf{n}_{i}^{{}}A_{i}^{{}}} + \Delta t \cdot \left \frac{dp_{b}}{dt} \right|_{penalty} \\ 
  \end{matrix} 
" class="latex" border="0"></div> 
  This is an implicit formulation, as the bubble correction pressure depends on the correction pressure gradient along the bubble surface. 
   
  Last question to solve is, what is <span lang="latex-inline"><img src="d51a3e298fe5faa3aa2d7168fec36797.png" alt=" \left \frac{dp_{b}}{dt} \right|_{penalty}" class="latex" border="0"></span> ? See in <a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleImplicitPressure.BubbleCorrectionPressure.BubblePressurePenaltyChangeRate.html">BubblePressurePenaltyChangeRate</a> . 
  The answer to this question stems from the potential discrepancy between the true bubble pressure, computed only from the current volume and the original volume and pressure of the bubble (see <a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleTruePressure.html">BubbleTruePressure</a>). See especially <a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleImplicitPressure.BubbleCorrectionPressure.BubblePressurePenaltyChangeRate.html">BubblePressurePenaltyChangeRate</a> . 
   
   
  Be sure to set the appropriate boundary conditions in order to invoke this algorithm: 
  <div class="note"> <div class="code"> 
  <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_p.html">BC_p</a>(0) = ( %BND_free_implicit%, A )            <span style="color:#FACC2E;"># A does not have a meaning for <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_c%25.html">%ind_c%</a> - conditions </span>
  <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BCON.html">BCON</a>(0,%ind_c%) = ( %BND_free_implicit%, A )    <span style="color:#FACC2E;"># this is equivalent, it allows to set forth different conditions for <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_p%25.html">%ind_p%</a> and <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_c%25.html">%ind_c%</a> </span>
  
 </div> </div> 
   
  Otherwise, if setting for example conditions like 
  <div class="note"> <div class="code"> 
  <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BCON.html">BCON</a>(0,%ind_c%) = ( <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_v.%25BND_free%25.html">%BND_free%</a>, A )      <span style="color:#FACC2E;"># results in Dirichlet behavior along the free surface for <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_c%25.html">%ind_c%</a> </span>
  <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BCON.html">BCON</a>(0,%ind_c%) = ( <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_v.%25BND_DIRICH%25.html">%BND_DIRICH%</a>, A )    <span style="color:#FACC2E;"># dito </span>
  
 </div> </div> 
  then the implicit character is not invoked, and, instead, the following condition solved at the bounds of the bubble 
  <div lang="latex"><img src="1618a6924549362a1bc25e15465d06e5.png" alt="  c_{b}^{n+1} = A" class="latex" border="0"></div> 
         
	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer-top">
	<div class="border-vertical">
		<div class="row reference">
	      		<div class="col-md-12">
		 		<div class="table-responsive">
			  		<table class="table">
			  		<tr><th>List of members: </th><th></th></tr>
<tr><td><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.BubbleAlgorithm.BubblePressure.BubbleImplicitPressure.BubbleCorrectionPressure.BubblePressurePenaltyChangeRate.html">BubblePressurePenaltyChangeRate</a></td> <td>  target volume change rate of a bubble </td></tr>    
		  			</table>
				</div>
	      		</div>
		</div>
	</div>
</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
