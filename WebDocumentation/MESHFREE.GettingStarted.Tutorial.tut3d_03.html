<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>tut3d_03</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.GettingStarted.html">GettingStarted</a></li>
<li><a href="MESHFREE.GettingStarted.Tutorial.html">Tutorial</a></li>
<li><a href="MESHFREE.GettingStarted.Tutorial.tut3d_03.html">tut3d_03</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>tut3d_03</h1><p> TUTORIAL 3: flow in open channel with obstacle </p>
		    	</div>
			<div class="description">
                                                                                                      
   
 <b> Goals of this Unit: </b> 
 <ul><li> 
 </li><li> Discussion of “open Edges”. 
 </li><li> Understanding the normals and volume relation (while making geometry with GMSH). 
 </li></ul> 
   
 <b> The fluid-mechanical problem: </b> 
   
 In this example the fluid flows around a cylinder and generates a small hump at the free surface. Now we have to take into account that the height of the fluid at the outflow wall is not fixed and might vary in time. In particular it might overflow the original box. In order to avoid that the fluid flows over an edge of thickness zero we have to extend the geometrical model (which is called roof in the formation of the geometry). We briefly have a look at the changes needed to be done in USER_common_variable.dat. 
   
 <img src=  ../Pictures/tut03_figure12.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 12: sketch of the problem </em> 
   
 It can be easily observed that the roof above the cube is necessary to provide proper closing of the geometry in order to avoid that the fluid flows over the wall. 
   
   
 <b> Healing wrong orientation of geometry items: </b> 
   
 While defining aliases in USER_common_variable.dat, boundaries whose orientation is wrong, need to be equipped with the flag <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.REV_ORIENT.html">REV_ORIENT</a> . If you are working with GMSH, the boundary orientation can be easily seen if displaying the normals of the geometry: 
   
 <img src=  ../Pictures/tut03_figure12a.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 13: showing orientations and directions of the normals </em> 
   
 If working with different preprocessing tools, usually there is a way to display boundary orientations in most of the systems, sometimes however not easy to find. Figure 13 shows the front look of the 3D geometry of this tutorial and also the normals of the surface of the cylinder (please observe the inconsistent formation of the boundary normals, <b> the normals always how to point to the interior of the flow domain, however GMSH displays the normals the other way around </b>). Thus, for the appropriate face, we turn around the orientation by <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.REV_ORIENT.html">REV_ORIENT</a>: 
 <div class="note"> <div class="code"> 
 "cylinder_1"  = "            BC$wallCyl$  ACTIVE$init_always$    IDENT%BND_slip%       MAT$MatUSER$  TOUCH%TOUCH_always%       MOVE$NO_MOVE$  CHAMBER1 " 
 "cylinder_2"  = " REV_ORIENT BC$wallCyl$  ACTIVE$init_always$    IDENT%BND_slip%       MAT$MatUSER$  TOUCH%TOUCH_always%       MOVE$NO_MOVE$  CHAMBER1 " 
 "cylinder_3"  = " REV_ORIENT BC$wallCyl$  ACTIVE$init_always$    IDENT%BND_slip%       MAT$MatUSER$  TOUCH%TOUCH_always%       MOVE$NO_MOVE$  CHAMBER1 " 
 "cylinder_4"  = " REV_ORIENT BC$wallCyl$  ACTIVE$init_always$    IDENT%BND_slip%       MAT$MatUSER$  TOUCH%TOUCH_always%       MOVE$NO_MOVE$  CHAMBER1 " 
 
 </div> </div> 
   
   
 <b> Closing the geometry on the top: </b> 
   
 The “roof” should not contribute in the formation of the point cloud, therefore, the aliases of these walls should be for example defined as follows : 
 <div class="note"> <div class="code"> 
 "roof_in"     = "            BC$free0$    ACTIVE$noinit_always$  IDENT%BND_outflow%    MAT$MatUSER$  TOUCH%TOUCH_geometrical%  MOVE$NO_MOVE$  CHAMBER1 " 
 "roof_out"    = " REV_ORIENT BC$free0$    ACTIVE$noinit_always$  IDENT%BND_outflow%    MAT$MatUSER$  TOUCH%TOUCH_geometrical%  MOVE$NO_MOVE$  CHAMBER1 " 
 "roof_back"   = " REV_ORIENT BC$free0$    ACTIVE$noinit_always$  IDENT%BND_outflow%    MAT$MatUSER$  TOUCH%TOUCH_geometrical%  MOVE$NO_MOVE$  CHAMBER1 " 
 "roof_front"  = "            BC$free0$    ACTIVE$noinit_always$  IDENT%BND_outflow%    MAT$MatUSER$  TOUCH%TOUCH_geometrical%  MOVE$NO_MOVE$  CHAMBER1 " 
 "roof_top"    = " REV_ORIENT BC$free0$    ACTIVE$noinit_always$  IDENT%BND_outflow%    MAT$MatUSER$  TOUCH%TOUCH_geometrical%  MOVE$NO_MOVE$  CHAMBER1 " 
 
 </div> </div> 
   
 The <a href="MESHFREE.InputFiles.USER_common_variables.ACTIVE.html">ACTIVE</a> statement in the alias definition is <a href="MESHFREE.InputFiles.USER_common_variables.ACTIVE.html">ACTIVE</a>$noinit_always$  which tells <a href="MESHFREE.html">MESHFREE</a> that this boundary shall not be active during <a href="MESHFREE.html">MESHFREE</a> initialization/startup, but has to be active during time integration/simulation. 
   
 <b> Suggestions for exploring <a href="MESHFREE.html">MESHFREE</a>: </b> 
 <ul><li> 
 </li><li> work with more or less <a href="MESHFREE.html">MESHFREE</a> points by adapting the smoothing length 
 </li><li> work with different speeds of the liquid 
 </li></ul> 
   
 <b>Advanced Example:</b> <a href="MESHFREE.GettingStarted.Tutorial.tut3d_03.FormationFreeJet.html">FormationFreeJet</a> (recommended after successfull training according to the basic units) 
   
 <span style="color:#f39200"> Note: </span> In order to reproduce Figure 12, load the state file tut03_figure12.pvsm in ParaView and choose 'Search files under specified directory'. Then, select the correct data directory (<a href="MESHFREE.html">MESHFREE</a> results folder). 
   
   

	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer-top">
	<div class="border-vertical">
		<div class="row reference">
	      		<div class="col-md-12">
		 		<div class="table-responsive">
			  		<table class="table">
			  		<tr><th>List of members: </th><th></th></tr>
<tr><td><a href="MESHFREE.GettingStarted.Tutorial.tut3d_03.FormationFreeJet.html">FormationFreeJet</a></td> <td>  formation of a free jet </td></tr>    
<tr><td><a href="MESHFREE.GettingStarted.Tutorial.tut3d_03.USER_common_variables___tut3d_03___.html">USER_common_variables</a></td> <td>  TUTORIAL 3: flow in open channel with obstacle: USER_common_variables.dat </td></tr>    
<tr><td><a href="MESHFREE.GettingStarted.Tutorial.tut3d_03.common_variables___tut3d_03___.html">common_variables</a></td> <td>  TUTORIAL 3: flow in open channel with obstacle: common_variables.dat </td></tr>    
		  			</table>
				</div>
	      		</div>
		</div>
	</div>
</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
<a href="../OnlineExamples/MESHFREE.GettingStarted.Tutorial.tut3d_03">DOWNLOAD COMPREHENSIVE EXAMPLE</a>
	      </div>
	    </div>
	  </div>
	</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
Source file of this page: <a href="../../FPM_src/FPM_fpmdocu/FPM.GettingStarted.Tutorial.tut3d_03.fpmdocu">../../FPM_src/FPM_fpmdocu/FPM.GettingStarted.Tutorial.tut3d_03.fpmdocu</a>
	      </div>
	    </div>
	  </div>
	</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
