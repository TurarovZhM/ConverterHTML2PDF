<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>Melting</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.GettingStarted.html">GettingStarted</a></li>
<li><a href="MESHFREE.GettingStarted.LetterCases.html">LetterCases</a></li>
<li><a href="MESHFREE.GettingStarted.LetterCases.Melting.html">Melting</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>Melting</h1><p> Letters melting in two different ways </p>
		    	</div>
			<div class="description">
                                                                                               
   
 <b> Goals of this Unit: </b> 
 <ul><li> 
 </li><li> Get to know the temperature boundary condition %BND_AVERAGE%. 
 </li><li> Use <a href="MESHFREE.InputFiles.USER_common_variables.CODI.html">CODI</a> to buffer information from bygone time steps. 
 </li></ul> 
   
 <b> The fluid-mechanical problem </b> 
   
 We are simulating two problems within this LetterCase: 
 (i)  The letters are standing on a warm plate of constant temperature. By getting heated they melt and dissolve from bottom to top, just like butter in a frying pan. 
 (ii) The letters are standing in an oven. They are getting heated by recirculating air and start to dissolve from top to bottom. 
 We will first have a look at at problem (i). 
   
 <b> Setting appropriate boundary conditions </b> 
   
 A constant temperature for the plate ($BC_pool$) is easily set with a Dirichlet condition. For the free surface particles (BC0) of the letters to be gradually heated by the plate, we apply %BND_AVERAGE% as boundary condition. Thus the current temperature of a free surface point is calculated as a weighted average of the temperature of its neighboring points. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_T.html">BC_T</a>(0)             = (%BND_AVERAGE%, 0, 0) 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_T.html">BC_T</a>(<span style="color:#0B6121;">$BC_pool$</span>)     = (<a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_v.%25BND_DIRICH%25.html">%BND_DIRICH%</a>, 1 ) 
 
 </div> </div> 
   
 <b> Manipulate the viscosity with a UserDefinedIndex </b> 
   
 We do not want the melting to be too aprupt. Therefore we need to constrain the decrease of viscosity in every timestep via its value in the previous timestep. This requires us to buffer the viscosity. The typical way to go about this would be by using a <a href="MESHFREE.InputFiles.USER_common_variables.CODI.html">CODI</a> variable to store this information, because all <a href="MESHFREE.InputFiles.USER_common_variables.CODI.html">CODI</a> commands are evaluated at the end of each time step after the time integration, while physical properties like the viscosity are updated before the time integration. This enables us to carry the information on physical properties from a previous timestep into the time integration of the following time step. We introduce a so-called UserDefinedIndex %indU_ETA_lastTS% and set it to be equal to Y<a href="MESHFREE.Indices.LIQUID___indices___.%25ind_ETA%25.html">%ind_ETA%</a>. 
 <div class="note"> <div class="code"> 
 "eta_min" = "10" 
 ... 
 <a href="MESHFREE.InputFiles.USER_common_variables.INITDATA.html">INITDATA</a>(<span style="color:#0B6121;">$Mat1$</span>,%indU_ETA_lastTS%) = <span style="color:#8A0808;">&eta_min&</span> 
 <a href="MESHFREE.InputFiles.USER_common_variables.CODI.CODI_eq.html">CODI_eq</a>(<span style="color:#0B6121;">$Mat1$</span>,%indU_ETA_lastTS%) = [Y<a href="MESHFREE.Indices.LIQUID___indices___.%25ind_ETA%25.html">%ind_ETA%</a>] 
 
 </div> </div> 
 With this information up our sleeve we define the viscosity like this: 
 <div class="note"> <div class="code"> 
 eta(<span style="color:#0B6121;">$Mat1$</span>)        = [max( <span style="color:#8A0808;">&eta_min&</span>*exp(-12*Y<a href="MESHFREE.Indices.LIQUID___indices___.%25ind_T%25.html">%ind_T%</a>) , 0.00001*<span style="color:#8A0808;">&eta_min&</span> , 0.5*Y%indU_ETA_lastTS% )] 
 
 </div> </div> 
 The first argument of max is a model of the viscosity decrease caused by rising temperature, the following arguments are constraints, averting the viscosity to plummet below a minimal value and by more than a half respectively. 
   
 The picture below shows how the letters are slowly melting from bottom to top, changing their shape and sliding across the plate. 
   
 <img src=  ../Pictures/Melting_pic1.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 4: <a href="MESHFREE.GettingStarted.LetterCases.Melting.html">Melting</a> from the bottom  </em> 
   
 <b> Swap the boundary conditions </b> 
   
 It is very easy to change the UCV to represent case (ii) instead of (i). One only needs to change the thermal conductivity lambda, the minimum viscosity eta_min and <a href="MESHFREE.InputFiles.USER_common_variables.TimeControl.Tend.html">Tend</a> to more convenient values and to swap the temperature boundary conditions for the free surface and for the plate. 
 <div class="note"> <div class="code"> 
 "eta_min"                      = "1000" 
 ... 
 <a href="MESHFREE.InputFiles.USER_common_variables.TimeControl.Tend.html">Tend</a>             = 250 
 ... 
 lambda(<span style="color:#0B6121;">$Mat1$</span>)     = 1 
 ... 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_T.html">BC_T</a>(0)             = (<a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_v.%25BND_DIRICH%25.html">%BND_DIRICH%</a>, 1 ) 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_T.html">BC_T</a>(<span style="color:#0B6121;">$BC_pool$</span>)     = (%BND_AVERAGE%, 0, 0) 
 
 </div> </div> 
 The result should look like this: 
   
 <img src=  ../Pictures/Melting_pic2.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 5: <a href="MESHFREE.GettingStarted.LetterCases.Melting.html">Melting</a> from the top  </em> 
   
 Looking at a cross-section of the simulation shows the difference in temperature distribution compared to (i): 
   
 <img src=  ../Pictures/Melting_pic3.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 6: A cross-section of the letters </em> 
   
   

	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer-top">
	<div class="border-vertical">
		<div class="row reference">
	      		<div class="col-md-12">
		 		<div class="table-responsive">
			  		<table class="table">
			  		<tr><th>List of members: </th><th></th></tr>
<tr><td><a href="MESHFREE.GettingStarted.LetterCases.Melting.USER_common_variables___Melting___.html">USER_common_variables</a></td> <td>  Melting: Letters melting in two different ways : USER_common_variables.dat </td></tr>    
<tr><td><a href="MESHFREE.GettingStarted.LetterCases.Melting.common_variables___Melting___.html">common_variables</a></td> <td>  Melting: Letters melting in two different ways : common_variables.dat </td></tr>    
		  			</table>
				</div>
	      		</div>
		</div>
	</div>
</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
<a href="../OnlineExamples/MESHFREE.GettingStarted.LetterCases.Melting">DOWNLOAD COMPREHENSIVE EXAMPLE</a>
	      </div>
	    </div>
	  </div>
	</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
