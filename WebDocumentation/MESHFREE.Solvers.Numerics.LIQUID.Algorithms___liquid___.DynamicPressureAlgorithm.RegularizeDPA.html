<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>RegularizeDPA</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.Solvers.html">Solvers</a></li>
<li><a href="MESHFREE.Solvers.Numerics.html">Numerics</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.html">LIQUID</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.html">Algorithms</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.DynamicPressureAlgorithm.html">DynamicPressureAlgorithm</a></li>
<li><a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.DynamicPressureAlgorithm.RegularizeDPA.html">RegularizeDPA</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>RegularizeDPA</h1><p> regularize the computation of dynamic pressure in order to reduce fluctuations </p>
		    	</div>
			<div class="description">
                                                                                                                                                                                            
  The <a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.DynamicPressureAlgorithm.ClassicalDPA.html">ClassicalDPA</a> as well as the <a href="MESHFREE.Solvers.Numerics.LIQUID.Algorithms___liquid___.DynamicPressureAlgorithm.AlternativeDPA.html">AlternativeDPA</a> lead to tremendous pressure fluctuations over time, that can 
  be observed especially for simulations in long channels, where only at one end there is a Dirichlet-condition, 
  whereas as all the other walls are modelled by Neumann-type conditions. 
  The problem here, most probably, comes from the fact, that the pressure Poisson equation stems from the 
  equation of momentum where we have a formulation on the gradient of pressure (overdetermined system, 
  containing 3*N equations for the N unknown pressure values). By application of the divergence operator, 
  see <a href="MESHFREE.Solvers.Numerics.LIQUID.EquationsToSolve.DerivePoissonEquationForPressure.html">DerivePoissonEquationForPressure</a> , we obtain N equations for N unknown pressure values, but we most 
  probably loose information. This information loss might be the reason for the pressure fluctuations. 
   
  In general, the numerical discretization of the Pressure Poisson equation is given by 
  <div lang="latex"><img src="f75a54fced195fb400c46c47f9a3c371.png" alt=" \sum\limits_{j=1}^{N(i)}{W_{ij}^{{}}\left( \frac{1}{2}\frac{\rho _{i}^{{}}+\rho _{j}^{{}}}{\rho _{i}^{{}}\rho _{j}^{{}}}\left( p_{j}^{{}}-p_{i}^{{}} \right) \right)} = Q_i" class="latex" border="0"></div> 
   
  Such type of equation also arises, if we do not apply the divergence operator to the equation of momentum, instead we apply an arbitrary, 
  locally choosen vector <span lang="latex-inline"><img src="37684f812c9ddc75ad8d31b800391507.png" alt="\mathbf{q}_{i}^{{}}" class="latex" border="0"></span> to the equation of momentum, i.e. 
  <div lang="latex"><img src="d2fca804c560fc06fc1aa3f13f6ad89e.png" alt=" \frac{1}{\rho _{i}^{{}}}\mathbf{q}_{i}^{T}\nabla p_{i}^{{}}=\frac{1}{\rho _{i}^{{}}}\mathbf{q}_{i}^{T}\left( \nabla _{{}}^{T}\mathbf{S}_{v}^{{}}\left( \mathbf{v}_{{}}^{{}} \right) \right)_{i}^{T}-\beta \cdot \mathbf{q}_{i}^{T}\mathbf{v}_{i}^{{}}-\mathbf{q}_{i}^{T}\mathbf{\dot{v}}_{i}^{{}} = Q^{reg}_i" class="latex" border="0"></div> 
  Discretize this equation in the FPM sense, i.e. 
  <div lang="latex"><img src="7e1b0f0ac50d9eecf20020702f6c847c.png" alt=" \sum\limits_{j=1}^{N(i)}{\frac{1}{\rho _{i}^{{}}}\left( q_{i}^{x}\cdot c_{ij}^{x}+q_{i}^{y}\cdot c_{ij}^{y}+q_{i}^{z}\cdot c_{ij}^{z} \right)\cdot p_{j}^{{}}}= Q^{reg}_i" class="latex" border="0"></div> 
  In fact, both equations aim to give an answer to the pressure. So, we could just add the enhancement, 
  such that the final, regularized linear system of equations is 
  <div lang="latex"><img src="b629e75a81296241643aa2f86571aea8.png" alt=" 
  \sum\limits_{j=1}^{N(i)}{W_{ij}^{{}}\left( \frac{1}{2}\frac{\rho _{i}^{{}}+\rho _{j}^{{}}}{\rho _{i}^{{}}\rho _{j}^{{}}}\left( p_{j}^{{}}-p_{i}^{{}} \right) \right)} + \sum\limits_{j=1}^{N(i)}{\frac{1}{\rho _{i}^{{}}}\left( q_{i}^{x}\cdot c_{ij}^{x}+q_{i}^{y}\cdot c_{ij}^{y}+q_{i}^{z}\cdot c_{ij}^{z} \right)\cdot p_{j}^{{}}}=  Q_i  + Q^{reg}_i 
" class="latex" border="0"></div> 
   
  This regularization provides additional information on the slope / gradient of the pressure, whereas the 
  original Poisson equation provides only information about the curvature of the pressure. 
   
  The length of <span lang="latex-inline"><img src="37684f812c9ddc75ad8d31b800391507.png" alt="\mathbf{q}_{i}^{{}}" class="latex" border="0"></span> determines the weight of the regularization. 
  The observation so far is, that best result are obtained by <span lang="latex-inline"><img src="6bf0fd4bd6c5e706bb2b9d01e4b81cac.png" alt=" \| \mathbf{q}_{i}^{{}} \| < 0.1" class="latex" border="0"></span> 
   
  Useful choices of the direction of <span lang="latex-inline"><img src="37684f812c9ddc75ad8d31b800391507.png" alt="\mathbf{q}_{i}^{{}}" class="latex" border="0"></span> could be the velocity, the direction of the pressure gradient itself, or the directions perpendicular to 
  the pressure gradient. We have implemented a collection in the sense 
  <div lang="latex"><img src="19fc6d96a5493c5c6adf0335138b30ab.png" alt="\mathbf{q}_{i}^{{}}=c_{m}^{{}}\cdot \frac{\mathbf{v}_{i}^{{}}}{\left\| \mathbf{v}_{i}^{{}} \right\|}+c_{n}^{{}}\cdot \frac{\nabla p_{i}^{{}}}{\left\| \nabla p_{i}^{{}} \right\|}+c_{a}^{{}}\cdot \frac{\mathbf{a}_{i}^{{}}}{\left\| \mathbf{a}_{i}^{{}} \right\|}+c_{b}^{{}}\cdot \frac{\mathbf{b}_{i}^{{}}}{\left\| \mathbf{b}_{i}^{{}} \right\|}" class="latex" border="0"></div> 
  where the last two vectors <span lang="latex-inline"><img src="3b6b7abb19d346e6b3c63068b1e6dc41.png" alt=" \mathbf{a}_{i}^{{}}, \mathbf{b}_{i}^{{}}" class="latex" border="0"></span> are perpendicular to the pressure gradient <span lang="latex-inline"><img src="1451941ce34aa5d2b41a85d814101a03.png" alt=" \nabla p_{i}^{{}}" class="latex" border="0"></span>. 
   
  The choice of <span lang="latex-inline"><img src="37684f812c9ddc75ad8d31b800391507.png" alt=" \mathbf{q}_{i}^{{}}" class="latex" border="0"></span> can be controlled by the user: 
  <ul><li> 
  </li><li> <span lang="latex-inline"><img src="17580cf18b354c9f29c44a01820ac1a4.png" alt=" c_{m}^{{}}" class="latex" border="0"></span> -> adjust <a href="MESHFREE.InputFiles.common_variables.FLIQUID_ConsistentPressure_CoeffMM.html">FLIQUID_ConsistentPressure_CoeffMM</a> 
  </li><li> <span lang="latex-inline"><img src="869a2e989883bd7c536d6aaeaf1543db.png" alt=" c_{n}^{{}}" class="latex" border="0"></span> -> adjust <a href="MESHFREE.InputFiles.common_variables.FLIQUID_ConsistentPressure_CoeffNN.html">FLIQUID_ConsistentPressure_CoeffNN</a> 
  </li><li> <span lang="latex-inline"><img src="01c07449615114c114342ffd28028e5f.png" alt=" c_{a}^{{}}" class="latex" border="0"></span> -> adjust <a href="MESHFREE.InputFiles.common_variables.FLIQUID_ConsistentPressure_CoeffTT.html">FLIQUID_ConsistentPressure_CoeffTT</a> (in fact, from a and b, <a href="MESHFREE.html">MESHFREE</a> computes a random vector perpendicular to the gradient of pressure) 
  </li><li> <span lang="latex-inline"><img src="e8461077248544ad81932738113df87b.png" alt=" c_{b}^{{}}" class="latex" border="0"></span> -> adjust <a href="MESHFREE.InputFiles.common_variables.FLIQUID_ConsistentPressure_CoeffTT.html">FLIQUID_ConsistentPressure_CoeffTT</a> 
  </li></ul> 
                 
	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
