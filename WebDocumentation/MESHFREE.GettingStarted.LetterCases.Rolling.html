<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>Rolling</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.GettingStarted.html">GettingStarted</a></li>
<li><a href="MESHFREE.GettingStarted.LetterCases.html">LetterCases</a></li>
<li><a href="MESHFREE.GettingStarted.LetterCases.Rolling.html">Rolling</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>Rolling</h1><p> Letters getting flattened by a rolling cylinder </p>
		    	</div>
			<div class="description">
                                                                                                         
   
 <b> Goals of this Unit: </b> 
 <ul><li> 
 </li><li> Construct a cylinder. 
 </li><li> Define its movement (translations and rotations) via curves. 
 </li><li> A short excursion about <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_TearOffCriterion.html">BC_TearOffCriterion</a>. 
 </li></ul> 
   
 <b> The fluid-mechanical problem </b> 
   
 The letters are flattened by a huge cylinder rolling back and forth, just like dough getting flattened by a rolling pin. We want to simulate a situation where the pin is coated in flour, thereby preventing the dough from sticking to it. We also have to take into account that the cylinder does not only do a translation but also a simultaneous rotation. 
   
 <b> Construction of the cylinder </b> 
   
 First we create an alias for the cylinder. Its boundary conditions will later be referenced by $BC_roll$ und its movement by $MOVE_roll$. We arbitrarily set its radius to 0.5. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.html">begin_alias{</a>} 
 ... 
 "roll"                       = "             BC$BC_roll$  ACTIVE$noinit_always$   IDENT%BND_slip%           MAT$Mat1$ TOUCH%TOUCH_liquid%   MOVE$MOVE_roll$ LAYER0 CHAMBER1  " 
 ... 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_alias.html">end_alias</a> 
 ... 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.html">begin_alias{</a>} 
 "rRoll" = "0.5" 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_alias.html">end_alias</a> 
 
 </div> </div> 
 We need more information on the measurements of our boundary elements to construct the cylinder with the correct length and to define its movement from one edge of the plate to the opposite edge. Therefore we get the points at the lower left and upper right corners of enclosing boxes around the 3 letters and the plate respectively. With these we can define three important values. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_construct{.html">begin_construct{</a>} 
 "minALL"           = <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_construct{.CONSTRUCT.html">CONSTRUCT</a>( <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.ConstructClause.%25CONSTRUCT_BoxMidPoint%25.html">%CONSTRUCT_BoxMidPoint%</a>, 0.0, "C","F","D" ) 
 "maxALL"           = <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_construct{.CONSTRUCT.html">CONSTRUCT</a>( <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.ConstructClause.%25CONSTRUCT_BoxMidPoint%25.html">%CONSTRUCT_BoxMidPoint%</a>, 1.0, "C","F","D" ) 
 "minPlate"         = <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_construct{.CONSTRUCT.html">CONSTRUCT</a>( <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.ConstructClause.%25CONSTRUCT_BoxMidPoint%25.html">%CONSTRUCT_BoxMidPoint%</a>, 0.0, "plate" ) 
 "maxPlate"         = <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_construct{.CONSTRUCT.html">CONSTRUCT</a>( <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.ConstructClause.%25CONSTRUCT_BoxMidPoint%25.html">%CONSTRUCT_BoxMidPoint%</a>, 1.0, "plate" ) 
 "rollCenter"       = " [&minALL(1)&-&rRoll&] , [&minPlate(2)&] , [&maxALL(3)&+&rRoll&] " 
 "rollTravelLength" = " [&maxALL(1)&-&minALL(1)&+2*&rRoll&]" 
 "rollOmega"        = " [ (2*3.1415926/2)*( &rollTravelLength&/(2*3.1415926*&rRoll&) ) ] " 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_construct.html">end_construct</a> 
 
 </div> </div> 
 The first is "rollCenter", which will be used as the central point of the bottom endpiece (with respect to the y-axis) of the cylinder. The second is "rollTravelLength", which is the traveling distance of the cylinder. The third is "rollOmega", the angular velocity of the cylinder. Its definition means that the cylinder will do 0.5*&rollTravelLength&/&rRoll& full rotations every second. 
 With these values we can now easily define the cylinder via the command <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.PlainBoundaryElements.BND_cylinder.html">BND_cylinder</a>. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_boundary_elements{.html">begin_boundary_elements{</a>} 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.PlainBoundaryElements.BND_cylinder.html">BND_cylinder</a> <span style="color:#8A0808;">&roll&</span> <span style="color:#8A0808;">&rollCenter(1)&</span> <span style="color:#8A0808;">&rollCenter(2)&</span> <span style="color:#8A0808;">&rollCenter(3)&</span>  0 1 0 [<span style="color:#8A0808;">&maxPlate(2)&</span>-<span style="color:#8A0808;">&minPlate(2)&</span>] <span style="color:#8A0808;">&rRoll&</span> <span style="color:#8A0808;">&rRoll&</span> 40 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.manipulate{.html">manipulate{</a>"roll"} <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryElements.include{.GeometryManipulations.revOrient{.html">revOrient{</a>} 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_boundary_elements.html">end_boundary_elements</a> 
 
 </div> </div> 
 It needs an alias ("roll"), the position of the central point of the bottom endpiece of the cylinder (&rollCenter(1)& &rollCenter(2)& &rollCenter(3)&), a direction (0 1 0), the length of the cylinder ([&maxPlate(2)&-&minPlate(2)&]) and the radii for the bottom and the top endpiece (both &rRoll&). The number 40 is given as an optional argument and determines the fineness of the resolution of the round cylinder. 
   
 <b> Defining the movement of the cylinder </b> 
   
 We define the translation and the rotation of the cylinder by two different curves. The first curve $CRV_centerOfRoll$ describes the translation of the point "rollCenter" dependent on time. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_curve{.html">begin_curve{</a><span style="color:#0B6121;">$CRV_centerOfRoll$</span>}, <a href="MESHFREE.InputFiles.USER_common_variables.Curves.1D_Curves.nb_functions.html">nb_functions</a>{4} 
 0.0  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> 0   0  0 
 0.1  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> 0   0 -0.25 
 2.1  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> <span style="color:#8A0808;">&rollTravelLength&</span>  0 -0.25 
 2.2  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> <span style="color:#8A0808;">&rollTravelLength&</span>  0 -0.375 
 4.2  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> 0   0 -0.375 
 4.3  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> 0   0 -0.4375 
 6.3  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> <span style="color:#8A0808;">&rollTravelLength&</span>  0 -0.4375 
 6.4  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> <span style="color:#8A0808;">&rollTravelLength&</span>  0 -0.46875 
 8.4  <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_position%25.html">%MOVE_position%</a> 0   0 -0.46875 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_curve.html">end_curve</a> 
 
 </div> </div> 
 The point is moved from left to right and vice versa. It crosses the distance after two seconds. At the start and every time it reaches an edge, it is lowered a bit. 
 The rotation is described by the curve $CRV_omegaOfRoll$. The direction of the rotation is changed every time "rollCenter" reaches one of the two edges. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_curve{.html">begin_curve{</a><span style="color:#0B6121;">$CRV_omegaOfRoll$</span>} 
 0.0  0 
 0.1  <span style="color:#8A0808;">&rollOmega&</span> 
 2.1  <span style="color:#8A0808;">&rollOmega&</span> 
 2.2  -<span style="color:#8A0808;">&rollOmega&</span> 
 4.2  -<span style="color:#8A0808;">&rollOmega&</span> 
 4.3  <span style="color:#8A0808;">&rollOmega&</span> 
 6.3  <span style="color:#8A0808;">&rollOmega&</span> 
 6.4  -<span style="color:#8A0808;">&rollOmega&</span> 
 8.4  -<span style="color:#8A0808;">&rollOmega&</span> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_curve.html">end_curve</a> 
 
 </div> </div> 
 The translation statement only concerns "rollCenter". We need to link this movement and the rotation with "roll", the actual rigid body, via a fitting <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.MOVE.html">MOVE</a> statement. This can be done with the command <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_TranslationRotation%25.html">%MOVE_TranslationRotation%</a>. As the name suggests, it lets us combine a translational with a rotational movement for a boundary element. It needs a point on the initial centre of rotation (&rollCenter(1)&, &rollCenter(2)&, &rollCenter(3)&), a <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.MOVE.html">MOVE</a> statement describing the movement of this centre ($MOVE_centerOfRoll$) and a vector for the angular velocity (0, curve{$CRV_omegaOfRoll$}{0}, 0). 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.MOVE.html">MOVE</a>(<span style="color:#0B6121;">$MOVE_centerOfRoll$</span>) = curve{<span style="color:#0B6121;">$CRV_centerOfRoll$</span>}{0} 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.MOVE.html">MOVE</a>(<span style="color:#0B6121;">$MOVE_roll$</span>)    = ( <a href="MESHFREE.InputFiles.USER_common_variables.MOVE.%25MOVE_TranslationRotation%25.html">%MOVE_TranslationRotation%</a>, <span style="color:#8A0808;">&rollCenter(1)&</span>, <span style="color:#8A0808;">&rollCenter(2)&</span>, <span style="color:#8A0808;">&rollCenter(3)&</span>, <span style="color:#0B6121;">$MOVE_centerOfRoll$</span>, 0, curve{<span style="color:#0B6121;">$CRV_omegaOfRoll$</span>}{0}, 0 ) 
 
 </div> </div> 
   
 <b> About tear-off criteria </b> 
   
 <a href="MESHFREE.html">MESHFREE</a> offers its users the opportunity to create their very own tear-off criteria. Tear-off criteria determine when a boundary point becomes a free surface point. This is, for example, important when one is considering gravity effects. Boundary points that experience a strong acceleration away from their boundary elements should not be glued to these possibly unmoving boundaries but rather become free surface particles instead. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_TearOffCriterion.html">BC_TearOffCriterion</a>(<span style="color:#0B6121;">$BC_roll$</span>)     = ( [(Y<a href="MESHFREE.Indices.LIQUID___indices___.%25ind_v(3)%25.html">%ind_v(3)%</a>)] , [(Y<a href="MESHFREE.Indices.General___indices___.%25ind_act%25.html">%ind_act%</a>-3)] ) 
 
 </div> </div> 
 We can define our own tear-off criteria with <a href="MESHFREE.InputFiles.USER_common_variables.BoundaryConditions.LIQUID__BC__.BC_TearOffCriterion.html">BC_TearOffCriterion</a>($BC_roll$). A boundary point of $BC_roll$ becomes a free surface particle when all statements on the right hand side of the expression above are true. In our case it would mean that a boundary particle of the cylinder becomes free, when it is both moving upward and when it was active for more than three time steps. This ensures that our material is not sticking to the cylinder after being flattened. 
   
 <img src=  ../Pictures/Rolling_pic1.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 9: <a href="MESHFREE.GettingStarted.LetterCases.Rolling.html">Rolling</a>: Mid-simulation results. </em> 
   

	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer-top">
	<div class="border-vertical">
		<div class="row reference">
	      		<div class="col-md-12">
		 		<div class="table-responsive">
			  		<table class="table">
			  		<tr><th>List of members: </th><th></th></tr>
<tr><td><a href="MESHFREE.GettingStarted.LetterCases.Rolling.USER_common_variables___Rolling___.html">USER_common_variables</a></td> <td>  Rolling: Letters getting flattened by a rolling pin : USER_common_variables.dat </td></tr>    
<tr><td><a href="MESHFREE.GettingStarted.LetterCases.Rolling.common_variables___Rolling___.html">common_variables</a></td> <td>  Rolling: Letters getting flattened by a rolling pin : common_variables.dat </td></tr>    
		  			</table>
				</div>
	      		</div>
		</div>
	</div>
</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
<a href="../OnlineExamples/MESHFREE.GettingStarted.LetterCases.Rolling">DOWNLOAD COMPREHENSIVE EXAMPLE</a>
	      </div>
	    </div>
	  </div>
	</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
