<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>WaterSand</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.GettingStarted.html">GettingStarted</a></li>
<li><a href="MESHFREE.GettingStarted.SpecialCases.html">SpecialCases</a></li>
<li><a href="MESHFREE.GettingStarted.SpecialCases.MultiPhaseCoupling.html">MultiPhaseCoupling</a></li>
<li><a href="MESHFREE.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand.html">WaterSand</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>WaterSand</h1><p> A jet of water and sand hits a plate </p>
		    	</div>
			<div class="description">
   
   
 A jet of a water-sand mixture is hitting a plate under a skewed angle. The two-phase mixture is modeled with a one-sided Darcy ansatz in the sense that the influence of the water on the sand is respected, but on the other hand the influence the sand has on the water is neglected. The interaction between the sand particles is also neglected. 
   
 <h2 class="customh2"> Darcy ansatz </h2> 
 Water and sand are set to be two different materials. The one-sided interaction between them is ensured by defining a Darcy framework only for the sand phase. Defining two phases, for water the <a href="MESHFREE.Solvers.Numerics.LIQUID.html">LIQUID</a> solver is chosen, and the sand is modeled in a <a href="MESHFREE.Solvers.Numerics.DROPLETPHASE.html">DROPLETPHASE</a>: 
 <div class="note"> <div class="code"> 
 KOP(1) = <a href="MESHFREE.Solvers.Numerics.LIQUID.html">LIQUID</a> <a href="MESHFREE.InputFiles.USER_common_variables.KindOfProblem.MotionOfPointcloud.LAGRANGE.html">LAGRANGE</a> V:IMPLICIT <a href="MESHFREE.Solvers.Numerics.LIQUID.Scheme.vp-.html">vp-</a> T:NONE            <span style="color:#FACC2E;"># phase 1: water </span>
 KOP(2) = <a href="MESHFREE.Solvers.Numerics.DROPLETPHASE.html">DROPLETPHASE</a>                                     <span style="color:#FACC2E;"># phase 2: sand </span>
 
 </div> </div> 
 The velocity of the surrounding water phase is projected onto the Darcy basis velocity for the sand phase: 
 <div class="note"> <div class="code"> 
 DarcyConstant(<span style="color:#0B6121;">$Mat2$</span>)      = equn{<span style="color:#0B6121;">$DC_Sand$</span>} 
 DarcyBasisVelocity(<span style="color:#0B6121;">$Mat2$</span>) = ( [projY(1,%ind_v(1)%)], [projY(1,%ind_v(2)%)], [projY(1,%ind_v(3)%)] ) 
 
 </div> </div> 
 See <a href="MESHFREE.Solvers.Numerics.LIQUID.EquationsToSolve.html">EquationsToSolve</a> to understand how the Darcy ansatz is integrated into the conservation of momentum. The DarcyBasisVelocity is the projected velocity of the water phase at the coordinates of a particular sand particle. 
   
 <h2 class="customh2"> Monitor points </h2> 
 Monitor points are used to better track the behavior of the sand phase (see <a href="MESHFREE.InputFiles.USER_common_variables.MONITORPOINTS.html">MONITORPOINTS</a>). These points have no influence on the actual simulation and are only used for postprocessing (see Monitor file after running the simulation or look into the integration section of the <a href="MESHFREE.InputFiles.USER_common_variables.html">USER_common_variables</a> file). They are in general defined by user-defined conditions. In our case, a monitor point is created every time a sand particle hits the plate. 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.MONITORPOINTS.MONITORPOINTS_CREATION.html">MONITORPOINTS_CREATION</a>(<span style="color:#0B6121;">$Mat2$</span>)                    = ( <a href="MESHFREE.InputFiles.USER_common_variables.MONITORPOINTS.MONITORPOINTS_CREATION.%25MONITORPOINTS_CREATION_AtBoundary%25.html">%MONITORPOINTS_CREATION_AtBoundary%</a>, equn{<span style="color:#0B6121;">$IsReflected$</span>} )   <span style="color:#FACC2E;"># if point is pushed back from the boundary, create a monitor point </span>
 <a href="MESHFREE.InputFiles.USER_common_variables.MONITORPOINTS.MONITORPOINTS_CREATION.MONITORPOINTS_CREATION_FunctionEvaluation.html">MONITORPOINTS_CREATION_FunctionEvaluation</a>(<span style="color:#0B6121;">$Mat2$</span>) = ( <a href="MESHFREE.Indices.General___indices___.%25ind_addvar%25.%25ind_addvar(1)%25.html">%ind_addvar(1)%</a>, equn{<span style="color:#0B6121;">$vn$</span>}, <a href="MESHFREE.Indices.General___indices___.%25ind_addvar%25.%25ind_addvar(2)%25.html">%ind_addvar(2)%</a>, equn{<span style="color:#0B6121;">$vt$</span>} )   <span style="color:#FACC2E;"># first index which is used for saving the following quantity </span>
 
 </div> </div> 
 Because this quickly generates a lot of monitor points that slow down the simulation, there is a currently unused option at the end of the <a href="MESHFREE.InputFiles.USER_common_variables.html">USER_common_variables</a> file that can be switched on to erase the monitor points in the time step after their creation. 
 <div class="note"> <div class="code"> 
 <span style="color:#FACC2E;">## deletion of monitor points in the time step directly after creation </span>
 <span style="color:#FACC2E;">#MONITORPOINTS_DELETION(<span style="color:#0B6121;">$Mat2$</span>) = (equn{<span style="color:#0B6121;">$mp_delete_in_next_ts$</span>}) </span>
 <span style="color:#FACC2E;"># </span>
 <span style="color:#FACC2E;">## auxilliary equations </span>
 <span style="color:#FACC2E;">#begin_equation{<span style="color:#0B6121;">$mp_delete_in_next_ts$</span>} </span>
 <span style="color:#FACC2E;">#  if ( real(<a href="MESHFREE.InputFiles.USER_common_variables.Equations___Ucv___.Functions.real().OneArgument.%25RealTimeSimulation%25.html">%RealTimeSimulation%</a>) > Y<a href="MESHFREE.Indices.General___indices___.%25ind_st%25.html">%ind_st%</a> ) :: 1.0 </span>
 <span style="color:#FACC2E;">#  else :: 0.0 </span>
 <span style="color:#FACC2E;">#  endif </span>
 <span style="color:#FACC2E;">#end_equation </span>
 
 </div> </div> 
   
 <h2 class="customh2"> Auxiliary adjustments </h2> 
 The movement of the sand phase is always disturbed to a small degree 
 <div class="note"> <div class="code"> 
 COMP_DropletphaseWithDisturbance = 1   <span style="color:#FACC2E;"># small disturbance of all <a href="MESHFREE.Solvers.Numerics.DROPLETPHASE.html">DROPLETPHASE</a> points (for geometric disturbance shortly after the inflow see below) </span>
                                        <span style="color:#FACC2E;"># default: 0 </span>
 
 </div> </div> 
 and in particular directly after the inflow to achieve more realistic results 
 <div class="note"> <div class="code"> 
 <span style="color:#FACC2E;"># geometric disturbance of the sand points shortly after the inflow </span>
 <span style="color:#FACC2E;"># REMARK: The geometric disturbance can be shut off by commenting the following event. </span>
 <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.html">EVENT</a>(6) = ( equn{<span style="color:#0B6121;">$event_trigger_move_sand_point$</span>}, <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.%25EVENT_FunctionManipulation%25.html">%EVENT_FunctionManipulation%</a>, <a href="MESHFREE.Indices.General___indices___.%25ind_x(1)%25.html">%ind_x(1)%</a>, equn{<span style="color:#0B6121;">$mv_x$</span>}, <a href="MESHFREE.Indices.General___indices___.%25ind_x(2)%25.html">%ind_x(2)%</a>, equn{<span style="color:#0B6121;">$mv_y$</span>}, <a href="MESHFREE.Indices.General___indices___.%25ind_x(3)%25.html">%ind_x(3)%</a>, equn{<span style="color:#0B6121;">$mv_z$</span>} ) 
 
 </div> </div> 
 The velocity is scaled for purely numerical reasons; it prevents isolated points from reducing the time step too much with high velocities. 
 <div class="note"> <div class="code"> 
 <span style="color:#FACC2E;"># scaling of velocity: </span>
 <span style="color:#FACC2E;"># - water phase -> scaling of velocity only for isolated points (each velocity component is confined to the interval [-<span style="color:#8A0808;">&sc_v_ref&</span>*<span style="color:#8A0808;">&v_ref&</span>,<span style="color:#8A0808;">&sc_v_ref&</span>*<span style="color:#8A0808;">&v_ref&</span>]) </span>
 <span style="color:#FACC2E;"># - sand phase -> scaling of all points (each velocity component is confined to the interval [-<span style="color:#8A0808;">&sc_v_ref&</span>*<span style="color:#8A0808;">&v_ref&</span>,<span style="color:#8A0808;">&sc_v_ref&</span>*<span style="color:#8A0808;">&v_ref&</span>]) </span>
 <span style="color:#FACC2E;"># REMARK: The scaling can be shut off by commenting the following events or adapting sc_v_ref or v_ref, respectively. </span>
 <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.html">EVENT</a>(1) = ( [1.0], <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.%25EVENT_FunctionManipulation%25.html">%EVENT_FunctionManipulation%</a>, %indU_flagged_v1%, 0.0, %indU_flagged_v2%, 0.0, %indU_flagged_v3%, 0.0 ) 
 <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.html">EVENT</a>(2) = ( equn{<span style="color:#0B6121;">$event_trigger_v1$</span>}, <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.%25EVENT_FunctionManipulation%25.html">%EVENT_FunctionManipulation%</a>, <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_v(1)%25.html">%ind_v(1)%</a>, equn{<span style="color:#0B6121;">$scaled_v1$</span>}, %indU_flagged_v1%, 1.0 ) 
 <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.html">EVENT</a>(3) = ( equn{<span style="color:#0B6121;">$event_trigger_v2$</span>}, <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.%25EVENT_FunctionManipulation%25.html">%EVENT_FunctionManipulation%</a>, <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_v(2)%25.html">%ind_v(2)%</a>, equn{<span style="color:#0B6121;">$scaled_v2$</span>}, %indU_flagged_v2%, 1.0 ) 
 <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.html">EVENT</a>(4) = ( equn{<span style="color:#0B6121;">$event_trigger_v3$</span>}, <a href="MESHFREE.InputFiles.USER_common_variables.EVENT.%25EVENT_FunctionManipulation%25.html">%EVENT_FunctionManipulation%</a>, <a href="MESHFREE.Indices.LIQUID___indices___.%25ind_v(3)%25.html">%ind_v(3)%</a>, equn{<span style="color:#0B6121;">$scaled_v3$</span>}, %indU_flagged_v3%, 1.0 ) 
 
 </div> </div> 
   
 <h2 class="customh2"> Simulation results </h2> 
 A look into some mid-simulation results shows clearly the different behaviour of the two phases after hitting the plate. While the water phase (blue) is beginning to cover the plate in all directions, the sand phase (red) resists, due to its higher density, such a change in direction of its movement much stronger. 
   
 <img src=  ../Pictures/WaterSand.png alt="Here should be a picture" class="img-responsive"> 
   
 <a href=" ../OnlineExamples/MESHFREE.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand/ ">COMPREHENSIVE EXAMPLE</a> 
   

	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer-top">
	<div class="border-vertical">
		<div class="row reference">
	      		<div class="col-md-12">
		 		<div class="table-responsive">
			  		<table class="table">
			  		<tr><th>List of members: </th><th></th></tr>
<tr><td><a href="MESHFREE.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand.USER_common_variables___WaterSand___.html">USER_common_variables</a></td> <td>  A jet of water and sand hits a plate: USER_common_variables.dat </td></tr>    
<tr><td><a href="MESHFREE.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand.common_variables___WaterSand___.html">common_variables</a></td> <td>  A jet of water and sand hits a plate: common_variables.dat </td></tr>    
		  			</table>
				</div>
	      		</div>
		</div>
	</div>
</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
<a href="../OnlineExamples/MESHFREE.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand">DOWNLOAD COMPREHENSIVE EXAMPLE</a>
	      </div>
	    </div>
	  </div>
	</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
Source file of this page: <a href="../../FPM_src/FPM_fpmdocu/FPM.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand.fpmdocu">../../FPM_src/FPM_fpmdocu/FPM.GettingStarted.SpecialCases.MultiPhaseCoupling.WaterSand.fpmdocu</a>
	      </div>
	    </div>
	  </div>
	</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
