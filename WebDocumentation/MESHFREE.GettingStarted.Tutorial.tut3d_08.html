<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="search/image/favicon.ico">
<title>tut3d_08</title>
<link href="search/css/bootstrap.css" rel="stylesheet">
<link href="search/css/fraunhofer.css" rel="stylesheet">
<script type="text/javascript" src="search/js/jquery-1.12.0.js"></script>
<script src="search/js/bootstrap.min.js"></script>
<script src="search/js/custom.js"></script>
</head>
<body>
	<div class="fh-wrapper">
		<div class="header">
			<div class="row visible-xs" id="main-menu-top">
				    <div class="row search-nav-icon">
					    <div class="col-md-12">
					<!-- for search and navigation icon -->
						  <div id="nav-top" class="nav-top-btn"></div>
						  <div id="search-btn-index-top-icon" class="search-icon"></div>
					    </div>
				    </div>
				    <div class="row">
				      <div class="col-md-12">
					    <nav class="navbar navbar-inverse">
						    <div class="navbar-header">
						      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						      </button>
						    </div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					      </nav>
					</div>
				      <div class="search-top">
					      <form id="search-form-index-top" >
						  <input type="text" name="queryString" id="search-text-index-top" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						  <button type="submit" class="btn" id="search-btn-index-top"></button>
					      </form>
				    </div>
				</div>
			</div>
			<div class="row header-row">
				<div class="col-sm-4">
					<div class="row">
					   <a href="MESHFREE.html">
						  <img class="logo img-responsive" alt="" src="search/image/MESHFREE_Logo.png"/>
					   </a>
					</div>
					<div class= "row company_name">
						Simulate with complex geometries and complex physics
					</div>
				</div>
				<div class="col-sm-8">
					<div class="row header-search-row hidden-xs">
						<div class="search">
						  <form id="search-form-index-header" >
						      <input type="text" name="queryString" id="search-text-index-header" value="" autocomplete="off" placeholder="Search" class="query-string"/>
						      <button type="submit" class="btn" id="search-btn-index-header"><i class="glyphicon glyphicon-search"></i></button>
						  </form>
						</div>
					</div>
					<div class="row main_menu hidden-xs" id="main-menu-bottom">
					  <nav class="navbar navbar-inverse">
						<div class="navbar-header">
						  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						    <span class="sr-only">Toggle navigation</span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						    <span class="icon-bar"></span>
						  </button>
						</div>
							<div id="navbar" class="navbar navbar-light bg-faded collapse navbar-collapse">
							  <ul class="nav navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.InputFiles.html" target="_blank">Input Files</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Indices.html" target="_blank">Indices</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.GettingStarted.html" target="_blank">Getting Started</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Download.html" target="_blank">Download</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="MESHFREE.Support.html" target="_blank">Support</a>
								</li>
							  </ul>
							</div>
					  </nav>
					</div>
				</div>
			</div>
		</div>
     <div class="breadcrumbs">
	  <div class="row breadcrumb">
	    <div class="col-md-12">
		<ul>
<li><a href="MESHFREE.html">MESHFREE</a></li>
<li><a href="MESHFREE.GettingStarted.html">GettingStarted</a></li>
<li><a href="MESHFREE.GettingStarted.Tutorial.html">Tutorial</a></li>
<li><a href="MESHFREE.GettingStarted.Tutorial.tut3d_08.html">tut3d_08</a></li>
		</ul>
	    </div>
	  </div>
	</div>
		<div class="border-vertical">
		  <div class="row">
		    <div class="col-md-12 content">
		    	<div class="jumbotron">
<h1>tut3d_08</h1><p> TUTORIAL 8: simple pressing process </p>
		    	</div>
			<div class="description">
                                                                                           
   
 <b>Goals of this Unit:</b> 
 <ul><li> 
 </li><li> Transport Equations for additional Species 
 </li><li> user defined indices 
 </li><li> user defined coloring indices 
 </li></ul> 
   
 <b> The Fluid Mechanical Problem </b> 
   
 In this tutorial we dip a plunger into a tank filled with a viscous fluid. As shown in the series of images below, the plunger will force the fluid upwards in between the plunger and the side walls. 
   
 <img src=  ../Pictures/tut08_NoColoring.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 20a: Fluid at selected simulation states </em> 
   
 <b> Initialize and save the color items </b> 
   
 In order to see how the fluid interfuses, we define several color species which are assigned to points depending on their initial position. These species are then transported with the point cloud and visualize how the fluid is mixed during the motion enforced by the plunger. 
   
 We consider two rather similar ways of saving such a coloring. On the one hand we store the species in the <a href="MESHFREE.Indices.UserDefinedIndices.html">UserDefinedIndices</a> %indU_spec1% and %indU_spec2% which are written out due to the lines 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.SAVE.SAVE_ITEM.html">SAVE_ITEM</a>  = ( %SAVE_scalar%,[Y%indU_spec1%], "spec1") 
 <a href="MESHFREE.InputFiles.USER_common_variables.SAVE.SAVE_ITEM.html">SAVE_ITEM</a>  = ( %SAVE_scalar%,[Y%indU_spec2%], "spec2") 
 
 </div> </div> 
 in the UCV. This provides us with an access to the values from ParaView. On the other hand we write out discrete <a href="MESHFREE.Indices.UserDefinedIndices.html">UserDefinedIndices</a> for coloring %indC_spec1% and %indC_spec2% via 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.SAVE.SAVE_ITEM.html">SAVE_ITEM</a>  = ( %SAVE_scalar%,[Y%indC_spec1%], "spec1_C") 
 <a href="MESHFREE.InputFiles.USER_common_variables.SAVE.SAVE_ITEM.html">SAVE_ITEM</a>  = ( %SAVE_scalar%,[Y%indC_spec2%], "spec2_C") 
 
 </div> </div> 
 The difference between these two options will be discussed shortly. In both cases, the initialization of our colorized species is given in the <a href="MESHFREE.InputFiles.USER_common_variables.INITDATA.html">INITDATA</a>-block: 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.INITDATA.html">INITDATA</a>(<span style="color:#0B6121;">$GLASS$</span>,%indU_spec1%)    = [equn{<span style="color:#0B6121;">$equn_xBinIdx$</span>}] 
 <a href="MESHFREE.InputFiles.USER_common_variables.INITDATA.html">INITDATA</a>(<span style="color:#0B6121;">$GLASS$</span>,%indU_spec2%)    = [equn{<span style="color:#0B6121;">$equn_yBinIdx$</span>}] 
 <a href="MESHFREE.InputFiles.USER_common_variables.INITDATA.html">INITDATA</a>(<span style="color:#0B6121;">$GLASS$</span>,%indC_spec1%)    = [equn{<span style="color:#0B6121;">$equn_xBinIdx$</span>}] 
 <a href="MESHFREE.InputFiles.USER_common_variables.INITDATA.html">INITDATA</a>(<span style="color:#0B6121;">$GLASS$</span>,%indC_spec2%)    = [equn{<span style="color:#0B6121;">$equn_yBinIdx$</span>}] 
 
 </div> </div> 
 where the equations 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_equation{.html">begin_equation{</a><span style="color:#0B6121;">$equn_xBinIdx$</span>} 
     int(Y<a href="MESHFREE.Indices.General___indices___.%25ind_x(1)%25.html">%ind_x(1)%</a>/1.0*(<span style="color:#8A0808;">&nBinX&</span>-1)) 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_equation.html">end_equation</a> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_equation{.html">begin_equation{</a><span style="color:#0B6121;">$equn_yBinIdx$</span>} 
     int(Y<a href="MESHFREE.Indices.General___indices___.%25ind_x(2)%25.html">%ind_x(2)%</a>/0.5*(<span style="color:#8A0808;">&nBinY&</span>-1)) 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_equation.html">end_equation</a> 
 
 </div> </div> 
 simply represent a partitioning of the initial pointcloud along the x- and y-direction into the number of bins specified via 
 <div class="note"> <div class="code"> 
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.begin_alias{.html">begin_alias{</a>} 
    "nBinX" = "5" <span style="color:#FACC2E;">#Number of discrete values along x-direction (similar to histogram bins) </span>
    "nBinY" = "5" <span style="color:#FACC2E;">#Number of discrete values along y-direction (similar to histogram bins) </span>
 <a href="MESHFREE.InputFiles.USER_common_variables.__overview_of_syntax_elements__.end_alias.html">end_alias</a> 
 
 </div> </div> 
   
 <b> User defined material index </b> 
   
 In FPM, the user is able to define additional indices in order to solve additional simulations tasks, see <a href="MESHFREE.Indices.UserDefinedIndices.html">UserDefinedIndices</a>. They work in the same way as the classical indices, so the user can initialize them, and on top, solve PDE of convection-diffusion-type. 
   
 In this tutorial, we used these <a href="MESHFREE.Indices.UserDefinedIndices.html">UserDefinedIndices</a> in order to set up the coloring we discussed above. Taking the vertical coloring stored in %indU_spec2% as an example, the above settings lead to the following simulation snapshots 
   
 <img src=  ../Pictures/tut08_yBins_indU.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 20b: Fluid colouring via indU_ at selected simulation states </em> 
   
 <b> User defined coloring index </b> 
   
 While the <a href="MESHFREE.Indices.UserDefinedIndices.html">UserDefinedIndices</a> provide a visually informative representation of mixing, we also observe that the range of values shifts over time. This is due to the fact that these indices are subject to all interpolations that would be applied to other physical variables. 
   
 This behavior can be circumvented by the subclass of UserDefinedColorIndices, which always inherit values from parent points instead of employing interpolation procedures. In this way, the original number of discrete values is maintained throughout the simulation. 
   
 Consequently, considering the identical snapshots for %indC_spec2% shows an unchanged range of values: 
   
 <img src=  ../Pictures/tut08_yBins_indC.png alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 20c: Fluid colouring via indC_ at selected simulation states </em> 
   
 The smearing of initial values when using <a href="MESHFREE.Indices.UserDefinedIndices.html">UserDefinedIndices</a> can also be seen when considering histograms of %indU_spec2% and %indC_spec2% values at the time of the final snapshot: 
   
 <img src=  ../Pictures/tut08_Histogram.jpg alt="Here should be a picture" class="img-responsive"> 
 <em> Figure 21: Histograms of species 2 values at time of final snapshot </em> 
   
 <span style="color:#f39200"> Note: </span> In order to reproduce Figures 20a, 20b, and 20c, load the state files tut08_figure20a.pvsm, tut08_figure20b.pvsm, and tut08_figure20c.pvsm in ParaView and choose 'Search files under specified directory'. Then, select the correct data directory (<a href="MESHFREE.html">MESHFREE</a> results folder). 
   

	      			</div>
	      		</div>
		</div>
	</div>
<div class="blank-class-outer-top">
	<div class="border-vertical">
		<div class="row reference">
	      		<div class="col-md-12">
		 		<div class="table-responsive">
			  		<table class="table">
			  		<tr><th>List of members: </th><th></th></tr>
<tr><td><a href="MESHFREE.GettingStarted.Tutorial.tut3d_08.USER_common_variables___tut3d_08___.html">USER_common_variables</a></td> <td>  TUTORIAL 8: simple pressing process: USER_common_variables.dat </td></tr>    
<tr><td><a href="MESHFREE.GettingStarted.Tutorial.tut3d_08.common_variables___tut3d_08___.html">common_variables</a></td> <td>  TUTORIAL 8: simple pressing process: common_variables.dat </td></tr>    
		  			</table>
				</div>
	      		</div>
		</div>
	</div>
</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
<a href="../OnlineExamples/MESHFREE.GettingStarted.Tutorial.tut3d_08">DOWNLOAD COMPREHENSIVE EXAMPLE</a>
	      </div>
	    </div>
	  </div>
	</div>
	<div class="blank-class-outer-top footer">
	  <div class="border-vertical">
	    <div class="row">
	      <div class="col-md-12 comprehensive-example">
Source file of this page: <a href="../../FPM_src/FPM_fpmdocu/FPM.GettingStarted.Tutorial.tut3d_08.fpmdocu">../../FPM_src/FPM_fpmdocu/FPM.GettingStarted.Tutorial.tut3d_08.fpmdocu</a>
	      </div>
	    </div>
	  </div>
	</div>
<div class="blank-class-outer footer visible-md visible-lg">
  <div class="border-vertical">
    <div class="row">
	      <div class="col-md-6">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	      <div class="col-md-2 footer-border-left">
			<a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
      </div>
    </div>
  </div>
  <div class="footer-small visible-xs visible-sm">
    <div class="blank-class-outer">
      <div class="blank-class-inner">
	<div class="row ">
		<div class="col-md-12">
			<a href="Index.html" target="_blank">Index</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="MESHFREE.Releases.html" target="_blank">Releases</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-bottom">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="https://svn.itwm.fraunhofer.de/svn/MESHFREEdocu/Executables/" target="_blank">Executables</a>
	      </div>
	</div>
      </div>
    </div>
    <div class="blank-class-outer-left-right">
      <div class="blank-class-inner">
	<div class="row ">
	      <div class="col-md-12">
		      <a href="http://itwm.fraunhofer.de" target="_blank">&copy 2020 Fraunhofer Institute for Industrial Mathematics ITWM</a>
	      </div>
	</div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
